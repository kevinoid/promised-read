<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="read"><span class="type-signature"></span>read<span class="signature">(stream, size<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;(Buffer|string|*)>|<a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(Buffer|string|*)>}</span></h4>
    

    



<div class="description">
    Reads from a stream.Readable.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">stream.Readable</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Stream from which to read.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Number of bytes to read.  If <code>stream.read</code>
is a function, <code>size</code> is passed to it, guaranteeing maximum
result size.  Otherwise, <code>'data'</code> events will be consumed until
<code>size</code> bytes are read, making it a minimum rather than an exact
value.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">ReadOptions</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line458">line 458</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Promise with result of read or Error.  Result may be shorter than
<code>size</code> if <code>'end'</code> occurs and will be <code>null</code>
if no data can be read.  If an error occurs after reading some data, the
<code>.read</code> property of the error object will contain the partial
read result.  The promise is resolved synchronously for streams in flowing
mode (see README.md for details).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(Buffer|string|*)></span>
|

<span class="param-type"><a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(Buffer|string|*)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readTo"><span class="type-signature"></span>readTo<span class="signature">(stream, needle, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;(Buffer|string|Array)>|<a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(Buffer|string|Array)>}</span></h4>
    

    



<div class="description">
    Reads from a stream.Readable until a given value is found.

<p>This function calls <a href="global.html#readUntil">readUntil</a> with an <code>until</code> function
which uses <code>.indexOf</code> to search for <code>needle</code>.  When
reading Buffers and performance is paramount, consider using
<a href="global.html#readUntil">readUntil</a> directly with an optional function for the problem (e.g.
<a href="https://www.npmjs.com/package/buffer-indexof-fast">buffer-indexof-fast</a> for
single-character search).</p>

<p>Doc note:  options should be a ReadToOptions type which extends
ReadOptions, but record types can't currently be extended.
See <a href="https://github.com/google/closure-compiler/issues/604">https://github.com/google/closure-compiler/issues/604</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">stream.Readable</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Stream from which to read.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>needle</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>
|

<span class="param-type">string</span>
|

<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Value to search for in the read result.
The stream will be read until this value is found or <code>'end'</code> or
<code>'error'</code> is emitted.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">ReadOptions</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options.  This function additionally supports
an <code>endOK</code> option which prevents <a href="EOFError.html">EOFError</a> on
<code>'end'</code>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line530">line 530</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Promise with the data read, up
to and including <code>needle</code>, or an Error if one occurs.  If
<code>stream</code> does not support <code>unshift</code>, the result may
include additional data.  If <code>'end'</code> is emitted before
<code>needle</code> is found, an <a href="EOFError.html">EOFError</a> is returned, unless
<code>options.endOK</code> is truthy in which case any remaining data is
returned or <code>null</code> if none was read.  If an error occurs after
reading some data, the <code>.read</code> property of the error object will
contain the partial read result.  The promise is resolved synchronously for
streams in flowing mode (see README.md for details).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(Buffer|string|Array)></span>
|

<span class="param-type"><a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(Buffer|string|Array)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readToEnd"><span class="type-signature"></span>readToEnd<span class="signature">(stream, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;(!Buffer|string|!Array)>|<a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(!Buffer|string|!Array)>}</span></h4>
    

    



<div class="description">
    Reads from a stream.Readable until 'end' is emitted.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">stream.Readable</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Stream from which to read.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">ReadOptions</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line609">line 609</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Promise with the data read,
<code>null</code> if no data was read, or an <code>Error</code> if one
occurred.  If an error occurs after reading some data, the
<code>.read</code> property of the error object will contain the partial
read result.  The promise is resolved synchronously for streams in flowing
mode (see README.md for details).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(!Buffer|string|!Array)></span>
|

<span class="param-type"><a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(!Buffer|string|!Array)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readToMatch"><span class="type-signature"></span>readToMatch<span class="signature">(stream, regexp, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;string>|<a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;string>}</span></h4>
    

    



<div class="description">
    Reads from a stream.Readable until a given expression is matched.

<p>This function calls <a href="global.html#readUntil">readUntil</a> with an <code>until</code> function
which applies <code>regexp</code> to the data read.</p>

<p>Doc note:  options should be a ReadToMatchOptions type which extends
ReadToOptions, but record types can't currently be extended.
See <a href="https://github.com/google/closure-compiler/issues/604">https://github.com/google/closure-compiler/issues/604</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">stream.Readable.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Stream from which to read.  This
stream must produce strings (so call <code>.setEncoding</code> if necessary).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>regexp</code></td>
            

            <td class="type">
            
                
<span class="param-type">RegExp</span>
|

<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Expression to find in the read result.
The stream will be read until this value is matched or <code>'end'</code> or
<code>'error'</code> is emitted.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">ReadOptions</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options.  This function additionally supports
an <code>endOK</code> option which prevents <a href="EOFError.html">EOFError</a> on
<code>'end'</code> and a <code>maxMatchLen</code> option which specifies
the maximum length of a match, which allow additional search optimizations.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line643">line 643</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Promise with the
data read, up to and including the data matched by <code>regexp</code>, or
an Error if one occurs.  If <code>stream</code> does not support
<code>unshift</code>, the result may include additional data.  If
<code>'end'</code> is emitted before <code>regexp</code> is matched, an
<a href="EOFError.html">EOFError</a> is returned, unless <code>options.endOK</code> is truthy in
which case any remaining data is returned or <code>null</code> if none was
read.  If an error occurs after reading some data, the <code>.read</code>
property of the error object will contain the partial read result.  The
promise is resolved synchronously for streams in flowing mode (see README.md
for details).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;string></span>
|

<span class="param-type"><a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readUntil"><span class="type-signature"></span>readUntil<span class="signature">(stream, test, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;(!Buffer|string|!Array)>|<a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(!Buffer|string|!Array)>}</span></h4>
    

    



<div class="description">
    Reads from a stream.Readable until a given test is satisfied.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">stream.Readable</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Stream from which to read.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>test</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Test function called with the data read so far and the most recent
chunk read.  If it returns a negative or falsey value, more data will be
read.  If it returns a non-negative number and the stream can be unshifted,
that many bytes will be returned and the others will be unshifted into the
stream.  Otherwise, all data read will be returned.  If it returns a number
larger than the length of the data read so far, enough data to reach the
requested length will be read before returning.  Non-numeric, non-boolean
values will result in an error.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">ReadOptions</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line487">line 487</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    Promise with the data read
and not unshifted, or an Error if one occurred.  If <code>'end'</code> is
emitted before <code>until</code> returns a non-negative/true value, an
<a href="EOFError.html">EOFError</a> is returned.  If an error occurs after reading some data,
the <code>.read</code> property of the error object will contain the partial
read result.  The promise is resolved synchronously for streams in flowing
mode (see README.md for details).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(!Buffer|string|!Array)></span>
|

<span class="param-type"><a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(!Buffer|string|!Array)></span>


    </dd>
</dl>

    





        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AbortError.html">AbortError</a></li><li><a href="CancellableReadPromise.html">CancellableReadPromise</a></li><li><a href="EOFError.html">EOFError</a></li><li><a href="TimeoutError.html">TimeoutError</a></li></ul><h3>Global</h3><ul><li><a href="global.html#read">read</a></li><li><a href="global.html#readTo">readTo</a></li><li><a href="global.html#readToEnd">readToEnd</a></li><li><a href="global.html#readToMatch">readToMatch</a></li><li><a href="global.html#readUntil">readUntil</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 3.6.3</a> on Tue Mar 10 2020 14:46:40 GMT-0600 (Mountain Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>