<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Global</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Global</h1>

    




<section>

<header>
    
        <h2></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

        


<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


        
    
    </div>

    

    

    

    

    

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="read"><span class="type-signature"></span>read<span class="signature">(stream, size<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;(Buffer|string|*)>|<a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(Buffer|string|*)>}</span></h4>
    

    



<div class="description">
    Reads from a stream.Readable.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">stream.Readable</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Stream from which to read.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>size</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Number of bytes to read.  If <code>stream.read</code>
is a function, <code>size</code> is passed to it, guaranteeing maximum
result size.  Otherwise, <code>'data'</code> events will be consumed until
<code>size</code> bytes are read, making it a minimum rather than an exact
value.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#ReadOptions">ReadOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line457">line 457</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise with result of read or Error.  Result may be shorter than
<code>size</code> if <code>'end'</code> occurs and will be <code>null</code>
if no data can be read.  If an error occurs after reading some data, the
<code>.read</code> property of the error object will contain the partial
read result.  The promise is resolved synchronously for streams in flowing
mode (see README.md for details).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(Buffer|string|*)></span>
|

<span class="param-type"><a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(Buffer|string|*)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readTo"><span class="type-signature"></span>readTo<span class="signature">(stream, needle, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;(Buffer|string|Array)>|<a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(Buffer|string|Array)>}</span></h4>
    

    



<div class="description">
    Reads from a stream.Readable until a given value is found.

<p>This function calls <a href="global.html#readUntil">readUntil</a> with an <code>until</code> function
which uses <code>.indexOf</code> to search for <code>needle</code>.  When
reading Buffers and performance is paramount, consider using
<a href="global.html#readUntil">readUntil</a> directly with an optional function for the problem (e.g.
<a href="https://www.npmjs.com/package/buffer-indexof-fast">buffer-indexof-fast</a> for
single-character search).</p>

<p>Doc note:  options should be a ReadToOptions type which extends
<a href="global.html#ReadOptions">ReadOptions</a>, but record types can't currently be extended.
See <a href="https://github.com/google/closure-compiler/issues/604">https://github.com/google/closure-compiler/issues/604</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">stream.Readable</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Stream from which to read.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>needle</code></td>
            

            <td class="type">
            
                
<span class="param-type">Buffer</span>
|

<span class="param-type">string</span>
|

<span class="param-type">*</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Value to search for in the read result.
The stream will be read until this value is found or <code>'end'</code> or
<code>'error'</code> is emitted.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#ReadOptions">ReadOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options.  This function additionally supports
an <code>endOK</code> option which prevents <a href="EOFError.html">EOFError</a> on
<code>'end'</code>.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line529">line 529</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise with the data read, up
to and including <code>needle</code>, or an Error if one occurs.  If
<code>stream</code> does not support <code>unshift</code>, the result may
include additional data.  If <code>'end'</code> is emitted before
<code>needle</code> is found, an <a href="EOFError.html">EOFError</a> is returned, unless
<code>options.endOK</code> is truthy in which case any remaining data is
returned or <code>null</code> if none was read.  If an error occurs after
reading some data, the <code>.read</code> property of the error object will
contain the partial read result.  The promise is resolved synchronously for
streams in flowing mode (see README.md for details).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(Buffer|string|Array)></span>
|

<span class="param-type"><a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(Buffer|string|Array)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readToEnd"><span class="type-signature"></span>readToEnd<span class="signature">(stream, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;(!Buffer|string|!Array)>|<a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(!Buffer|string|!Array)>}</span></h4>
    

    



<div class="description">
    Reads from a stream.Readable until 'end' is emitted.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">stream.Readable</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Stream from which to read.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#ReadOptions">ReadOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line604">line 604</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise with the data read,
<code>null</code> if no data was read, or an <code>Error</code> if one
occurred.  If an error occurs after reading some data, the
<code>.read</code> property of the error object will contain the partial
read result.  The promise is resolved synchronously for streams in flowing
mode (see README.md for details).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(!Buffer|string|!Array)></span>
|

<span class="param-type"><a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(!Buffer|string|!Array)></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readToMatch"><span class="type-signature"></span>readToMatch<span class="signature">(stream, regexp, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;string>|<a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;string>}</span></h4>
    

    



<div class="description">
    Reads from a stream.Readable until a given expression is matched.

<p>This function calls <a href="global.html#readUntil">readUntil</a> with an <code>until</code> function
which applies <code>regexp</code> to the data read.</p>

<p>Doc note:  options should be a ReadToMatchOptions type which extends
ReadToOptions, but record types can't currently be extended.
See <a href="https://github.com/google/closure-compiler/issues/604">https://github.com/google/closure-compiler/issues/604</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">stream.Readable.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Stream from which to read.  This
stream must produce strings (so call <code>.setEncoding</code> if necessary).</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>regexp</code></td>
            

            <td class="type">
            
                
<span class="param-type">RegExp</span>
|

<span class="param-type">string</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Expression to find in the read result.
The stream will be read until this value is matched or <code>'end'</code> or
<code>'error'</code> is emitted.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#ReadOptions">ReadOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options.  This function additionally supports
an <code>endOK</code> option which prevents <a href="EOFError.html">EOFError</a> on
<code>'end'</code> and a <code>maxMatchLen</code> option which specifies
the maximum length of a match, which allow additional search optimizations.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line641">line 641</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise with the
data read, up to and including the data matched by <code>regexp</code>, or
an Error if one occurs.  If <code>stream</code> does not support
<code>unshift</code>, the result may include additional data.  If
<code>'end'</code> is emitted before <code>regexp</code> is matched, an
<a href="EOFError.html">EOFError</a> is returned, unless <code>options.endOK</code> is truthy in
which case any remaining data is returned or <code>null</code> if none was
read.  If an error occurs after reading some data, the <code>.read</code>
property of the error object will contain the partial read result.  The
promise is resolved synchronously for streams in flowing mode (see README.md
for details).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;string></span>
|

<span class="param-type"><a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;string></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="readUntil"><span class="type-signature"></span>readUntil<span class="signature">(stream, test, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Promise.&lt;(!Buffer|string|!Array)>|<a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(!Buffer|string|!Array)>}</span></h4>
    

    



<div class="description">
    Reads from a stream.Readable until a given test is satisfied.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>stream</code></td>
            

            <td class="type">
            
                
<span class="param-type">stream.Readable</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Stream from which to read.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>test</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last">Test function called with the data read so far and the most recent
chunk read.  If it returns a negative or falsey value, more data will be
read.  If it returns a non-negative number and the stream can be unshifted,
that many bytes will be returned and the others will be unshifted into the
stream.  Otherwise, all data read will be returned.  If it returns a number
larger than the length of the data read so far, enough data to reach the
requested length will be read before returning.  Non-numeric, non-boolean
values will result in an error.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#ReadOptions">ReadOptions</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">Options.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line486">line 486</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Promise with the data read
and not unshifted, or an Error if one occurred.  If <code>'end'</code> is
emitted before <code>until</code> returns a non-negative/true value, an
<a href="EOFError.html">EOFError</a> is returned.  If an error occurs after reading some data,
the <code>.read</code> property of the error object will contain the partial
read result.  The promise is resolved synchronously for streams in flowing
mode (see README.md for details).
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Promise.&lt;(!Buffer|string|!Array)></span>
|

<span class="param-type"><a href="CancellableReadPromise.html">CancellableReadPromise</a>.&lt;(!Buffer|string|!Array)></span>


    </dd>
</dl>

    





        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id="ReadOptions">ReadOptions</h4>




<div class="description">
    Options for <a href="global.html#read">read</a>, <a href="global.html#readTo">readTo</a>, and <a href="global.html#readUntil">readUntil</a>.
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Promise</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">Promise type to return.  Default
for non-flowing streams is the global <code>Promise</code> type, when
available, or another Promises/A+ and ES6 compliant promise type.  Default
for flowing streams is a promise type which complies with Promises/A+ and
ES6 with the exception that it calls <code>onResolved</code> and
<code>onRejected</code> synchronously.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>cancellable</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">Provide <code>abortRead</code> and
<code>cancelRead</code> methods on the returned Promise which allow the
caller to abort or cancel an pending read.  This has no effect on
cancellation support provided by the Promise library, if any.  See
<a href="CancellableReadPromise.html">CancellableReadPromise</a> for details.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>flowing</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">Assume that the stream is in flowing mode and
read data using <code>'data'</code> events.  This is the default for streams
without a <code>.read()</code> method.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>objectMode</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">Treat the stream as if it were created with
the <code>objectMode</code> option, meaning read results are returned in an
Array and are never combined.  (This is always true for non-string,
non-Buffer reads.)</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timeout</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            

            <td class="description last">Cause the read to timeout after a given number
of milliseconds.  The promise will be rejected with a <a href="TimeoutError.html">TimeoutError</a>
which will have a <code>.read</code> property with any previously read
values.</td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="index.js.html">index.js</a>, <a href="index.js.html#line76">line 76</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="AbortError.html">AbortError</a></li><li><a href="CancellableReadPromise.html">CancellableReadPromise</a></li><li><a href="EOFError.html">EOFError</a></li><li><a href="TimeoutError.html">TimeoutError</a></li></ul><h3>Global</h3><ul><li><a href="global.html#read">read</a></li><li><a href="global.html#readTo">readTo</a></li><li><a href="global.html#readToEnd">readToEnd</a></li><li><a href="global.html#readToMatch">readToMatch</a></li><li><a href="global.html#readUntil">readUntil</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Wed Aug 15 2018 09:14:02 GMT-0600 (MDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>